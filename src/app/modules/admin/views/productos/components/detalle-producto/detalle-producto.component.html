<h2 mat-dialog-title class="titulo-modal">üì¶ Detalle del Producto</h2>

<mat-dialog-content class="contenido-modal">

  <!-- ============================== -->
  <!-- DATOS PRINCIPALES DEL PRODUCTO -->
  <!-- ============================== -->
  <div class="bloque">
    <p><strong>Descripci√≥n:</strong> {{ producto.descripcion }}</p>
    <p><strong>C√≥digo interno:</strong> {{ producto.codigoBarras || '‚Äî' }}</p>

    <!-- Color principal -->
    <p *ngIf="producto.color">
      <strong>Color principal:</strong>
      <span class="color-dot" [ngStyle]="{ 'background-color': producto.color }"></span>
    </p>
  </div>

  <!-- CLASIFICACI√ìN -->
  <div class="bloque">
    <p><strong>Rubro:</strong> {{ producto.rubro }}</p>
    <p><strong>Subrubro:</strong> {{ producto.subrubro }}</p>
    <p><strong>Marca:</strong> {{ producto.marca }}</p>
  </div>

  <!-- PRECIOS -->
  <div class="bloque precios">
    <p><strong>Precio Minorista:</strong> $ {{ producto.precioMinorista }}</p>

    <p *ngIf="producto.precioMayorista > 0">
      <strong>Precio Mayorista:</strong> U$S {{ producto.precioMayorista }}
    </p>

    <p *ngIf="producto.oferta">
      <strong>Precio Oferta:</strong> $ {{ producto.precioOferta }}
    </p>
  </div>

  <!-- STOCK -->
  <div class="bloque">
    <p><strong>Stock total:</strong> {{ stockTotal }} unidades</p>

    <!-- Stock por sucursal -->
    <p><strong>Stock por sucursal:</strong></p>
    <ul>
      <li *ngFor="let stock of producto.stockSucursales">
        üè¨ <strong>{{ obtenerNombreSucursal(stock.sucursalId) }}</strong>
        ‚Üí {{ stock.cantidad }} unidades
      </li>
    </ul>

    <p><strong>Stock mayorista:</strong> {{ producto.stockMayorista || 0 }}</p>
  </div>

  <!-- MENSAJE: TIENE VARIANTES -->
  <div class="bloque" *ngIf="producto.variantes?.length > 0">
    <p>üìç <strong>Este producto tiene variantes disponibles.</strong></p>
    <p style="font-size: 0.85rem;">(futuro: podr√≠amos listarlas o permitir ver una por una)</p>
  </div>

  <!-- FLAGS -->
  <div class="bloque">
    <p><strong>Destacado:</strong> {{ producto.destacado ? 'S√≠' : 'No' }}</p>
    <p><strong>Oferta:</strong> {{ producto.oferta ? 'S√≠' : 'No' }}</p>
    <p><strong>Impuesto Nacional:</strong> {{ producto.precioSinImpuestos ? 'S√≠' : 'No' }}</p>

    <p *ngIf="producto.precioSinImpuestos">
      <strong>Precio sin Impuesto Nacional:</strong> ${{ producto.precioSinImpuestos }}
    </p>
  </div>

  <!-- IMAGEN -->
  <div *ngIf="producto.imagen" class="product-img">
    <img [src]="producto.imagen" alt="Imagen del producto" />
  </div>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close color="primary">Cerrar</button>
</mat-dialog-actions>
