<mat-dialog-content class="contenido-modal">
  <div id="detalleOrden" class="orden-container fadeIn">
    <!-- LOGO -->
    <div class="logo-container">
      <img src="assets/logo.png" alt="Logo empresa" class="logo" />
    </div>

    <!-- TÃTULO -->
    <h1 class="titulo">Orden de reparaciÃ³n</h1>

    <!-- ğŸ‘¤ Datos del cliente -->
    <div class="bloque">
      <h2>ğŸ‘¤ Datos del cliente</h2>
      <p><strong>Nombre:</strong> {{ orden.apellidoCliente }}, {{ orden.nombreCliente }}</p>
      <p><strong>TelÃ©fono:</strong> {{ orden.telefonoCliente }}</p>

      <!-- ğŸ›ï¸ Gremio -->
      <p *ngIf="orden.esGremio">
        <strong>Gremio:</strong>
        <span class="badge-gremio">
          {{ orden.gremioNombre || 'Afiliado' }}
        </span>
      </p>
    </div>

    <!-- ğŸ’» Datos del equipo -->
    <div class="bloque">
      <h2>ğŸ’» Datos del equipo</h2>
      <p><strong>Equipo:</strong> {{ orden.equipo }}</p>
      <p *ngIf="orden.colorEquipo"><strong>Color:</strong> {{ orden.colorEquipo }}</p>
      <p *ngIf="orden.imei"><strong>IMEI:</strong> {{ orden.imei }}</p>

      <!-- ğŸ”“ NUEVO -->
      <p *ngIf="orden.codigoDesbloqueo">
        <strong>ğŸ”“ CÃ³digo de desbloqueo:</strong> {{ orden.codigoDesbloqueo }}
      </p>
    </div>

    <!-- ğŸ“ Detalles de la orden -->
    <div class="bloque">
      <h2>ğŸ“ Detalles de la orden</h2>
      <p><strong>Nro. Orden:</strong> {{ orden.numeroOrden }}</p>
      <p><strong>Fecha Ingreso:</strong> {{ orden.fechaIngreso?.toDate() | date:'dd/MM/yyyy' }}</p>
      <p *ngIf="orden.fechaEntrega">
        <strong>Fecha Entrega:</strong> {{ orden.fechaEntrega?.toDate() | date:'dd/MM/yyyy' }}
      </p>
      <p><strong>Motivo Ingreso:</strong> {{ orden.motivoIngreso }}</p>

      <p *ngIf="orden.presupuesto && orden.presupuesto > 0">
        <strong>Presupuesto:</strong> {{ orden.presupuesto | currency }}
      </p>

      <p>
        <strong>Estado:</strong>
        <span class="estado" [ngClass]="(orden.estado || '').toLowerCase()">
          {{ orden.estado }}
        </span>
      </p>

      <p><strong>GarantÃ­a:</strong> {{ orden.garantia ? 'SÃ­' : 'No' }}</p>
      <p *ngIf="orden.diasGarantia && orden.diasGarantia > 0">
        <strong>DÃ­as GarantÃ­a:</strong> {{ orden.diasGarantia }}
      </p>
      <p *ngIf="orden.fechaGarantia">
        <strong>Fecha GarantÃ­a:</strong> {{ orden.fechaGarantia }}
      </p>

      <div *ngIf="orden.observaciones?.length">
        <strong>Observaciones:</strong>
        <ul>
          <li *ngFor="let obs of orden.observaciones">{{ obs }}</li>
        </ul>
      </div>
    </div>

    <qrcode #qrCode [qrdata]="qrLink" [width]="200"></qrcode>
  </div>



</mat-dialog-content>

<mat-dialog-actions align="end" class="acciones">
  <button mat-button mat-dialog-close>Cerrar</button>
  <button mat-raised-button color="primary" (click)="imprimir()">ğŸ–¨ï¸ Reimprimir</button>
</mat-dialog-actions>